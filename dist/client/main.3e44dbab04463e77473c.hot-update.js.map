{"version":3,"file":"main.3e44dbab04463e77473c.hot-update.js","sources":["webpack:///src/client/Views/Category.js"],"sourcesContent":["import React from 'react'\nimport Grid from '../Components/Grids/Grid'\nimport CategoryList from '../Components/Categories/CategoryList';\nimport { connect } from 'react-redux'\nimport { setCategory, setCatContent } from '../Actions/content';\nimport Axios from 'axios';\n\nclass Category extends React.Component{\n  state = {\n    content: false,\n    category: false,\n    filter: ''\n  }\n\n  componentDidMount() {\n    Axios.get(`/api/category`).then((res) => {\n      // console.log(res.data)\n      this.props.setCategory(res.data);\n      this.setState({\n        category: true,\n        filter: res.data[0]._id\n      })\n      this.filterComponent();\n    }).catch((e) => {\n      this.setState({\n        category: false\n      })\n      console.log('error found in ./api/content/', e);\n    })\n  }\n\n  filterComponent = () => {\n    console.log(this.state.filter)\n    Axios.get(`/api/content/category/${this.state.filter}`).then((res) => {\n      this.props.setCatContent(res.data);\n      // console.log('after',res.data)\n      this.setState({\n        content: true\n      })\n    }).catch((e) => {\n      this.setState({\n        content: undefined\n      })\n      console.log('error found in ./api/content/', e);\n    })\n  }\n\n  filterCategory = async (filter) => {\n    await this.setState({\n      filter: filter\n    })\n    this.filterComponent();\n  }\n\n  render(){\n    const props = this.props;\n    return (\n      <div className=\"content\">\n      <div className=\"categories\">\n        {this.state.category ? \n          <CategoryList category={this.props.category} filter={this.filterCategory}/>\n        : 'Loading'}\n        <div className=\"categories-types\">\n          <div className=\"recent-videos\">\n            <h5><img src=\"/images/recent.png\" alt=\"\" />Recent-videos</h5>\n            <div className=\"grids grids2\">\n            {this.state.content && \n              props.cat_content.map((content, key) => {\n                return <Grid content={content} key={content._id}/>\n              })\n            }\n            {this.state.content === undefined && 'Nothing Found'}\n            </div>\n\n          </div>\n          <div className=\"recent-videos\">\n            <h5><img src=\"/images/recent.png\" alt=\"\" />Most-View-videos</h5>\n            {/* <div className=\"grids\">\n              <Grid/>\n              <Grid/>\n              <Grid/>\n            </div> */}\n          </div>\n        </div>\n      </div>\n      <div className=\"clear\"> </div>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = (state) => ({\n  allContent: state.content.all,\n  category: state.content.category,\n  cat_content: state.content.cat_content\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setCategory: (data) => dispatch(setCategory(data)),\n  setCatContent: (data) => dispatch(setCatContent(data))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Category)\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;;;AACA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAHA;AAwBA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AAtCA;AAyCA;AACA;AADA;AAGA;AACA;AACA;AA9CA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAwBA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AANA;AAFA;AAYA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAbA;AAJA;AA2BA;AAAA;AAAA;AAAA;AAAA;AA5BA;AA+BA;AAjFA;AAmFA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AAFA;AACA;AAIA;;;;A","sourceRoot":""}