{"version":3,"file":"main.9b3a4f68c36a9edca5b1.hot-update.js","sources":["webpack:///src/client/Views/Login.js"],"sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport Axios from 'axios'\nimport Container from '../Components/Container'\nimport Row from '../Components/Row'\nimport { startLogin } from '../Actions/auth'\n\nclass Login extends React.Component{\n  state = {\n    email: '',\n    password: '',\n    err: null\n  }\n\n  loginHandler = async (e) => {\n    e.preventDefault();\n    Axios.post('./api/user/login', {\n      email: this.state.email, \n      password: this.state.password\n    })\n    .then(async (res) => {\n      console.log(res.data)\n      localStorage.setItem('auth', res.data.token);\n      localStorage.setItem('acc_type', res.data.acc_type);\n      this.props.startLogin(res.data);\n      await this.setState({\n        err: null\n      })\n      this.props.history.push('/dashboard');\n    })\n    .catch((e) => {\n      this.setState({\n        err: 'Login Unsuccessfull'\n      })\n      console.log('Error login', e)\n    })\n  }\n\n  render(){\n    const props = this.props;\n    return (\n      <section className=\"Login text-center\">\n        <Container>\n          <Row>\n            <div id=\"regLoginForm\" className=\"col-sm-5\">\n              <form className=\"form-group\" onSubmit={this.loginHandler} >\n                <div \n                  className=\"closeBtnLogin\" \n                  onClick={() => props.history.push('/')}><i className=\"fa fa-times-circle fa-2x\"></i></div>\n                <h2>Login</h2>\n                <input required=\"required\" type=\"email\" placeholder=\"Email\" className=\"\" onChange={(e) => this.setState({\n                  email: e.target.value\n                })}/>\n                <input required type=\"password\" placeholder=\"Password\" className=\"\"onChange={(e) => this.setState({\n                  password: e.target.value\n                })}/>\n                <div className=\"d-flex\">\n                  <div className=\"mr-auto p-2\">\n                    <input type=\"checkbox\" id=\"remember\"/>\n                    <label htmlFor=\"remember\">Remember</label></div>\n                  <div className=\"p-2\"><Link to=\"#\">Forget</Link></div>\n                </div>\n                <input type=\"submit\" className=\"btn btn-info\" defaultValue=\"Login\"/>\n                <div className=\"d-flex createAccountBtn\">\n                  <label><Link to=\"/register\">Create an Account</Link></label>\n                </div>\n                <br/>\n                {this.state.err &&\n                <div className=\"alert alert-warning\">\n                  <p>{this.state.err}</p> \n                </div>\n                }\n              </form>\n            </div>\n          </Row>\n        </Container>\n      </section>\n    )\n  }\n}\nconst mapDispatchToProps = (dispatch) => ({\n  startLogin: (body) => dispatch(startLogin(body))\n});\n\nexport default connect(undefined, mapDispatchToProps)(Login);\n\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;AACA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAHA;AADA;AAQA;AACA;AACA;AACA;AAFA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAeA;AACA;AADA;AAGA;AACA;AACA;AACA;AA9BA;AAAA;AAAA;AAAA;AAAA;AACA;AA8BA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAFA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAMA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAvBA;AADA;AADA;AADA;AADA;AAqCA;AAvEA;AAyEA;AACA;AADA;AACA;AAGA;;;;A","sourceRoot":""}